function Readability(e,t,n){n=n||{},this._uri=e,this._doc=t,this._biggestFrame=!1,this._articleTitle=null,this._articleByline=null,this._articleDir=null,this._debug=!!n.debug,this._maxElemsToParse=n.maxElemsToParse||this.DEFAULT_MAX_ELEMS_TO_PARSE,this._nbTopCandidates=n.nbTopCandidates||this.DEFAULT_N_TOP_CANDIDATES,this._maxPages=n.maxPages||this.DEFAULT_MAX_PAGES,this._flags=this.FLAG_STRIP_UNLIKELYS|this.FLAG_WEIGHT_CLASSES|this.FLAG_CLEAN_CONDITIONALLY,this._parsedPages={},this._pageETags={},this._curPageNum=1;var i;this._debug?(i=function(e){var t=e.nodeName+" ";if(e.nodeType==e.TEXT_NODE)return t+'("'+e.textContent+'")';var n=e.className&&"."+e.className.replace(/ /g,"."),i="";return e.id?i="(#"+e.id+n+")":n&&(i="("+n+")"),t+i},this.log=function(){if("undefined"!=typeof dump){var e=Array.prototype.map.call(arguments,function(e){return e&&e.nodeName?i(e):e}).join(" ");dump("Reader: (Readability) "+e+"\n")}else if("undefined"!=typeof console){var t=["Reader: (Readability) "].concat(arguments);console.log.apply(console,t)}}):this.log=function(){}}function SmartInformerCreator(e,t,n,i){function r(e){return!isNaN(parseFloat(e))&&isFinite(e)}function a(e){if(e.id){var t=document.getElementById(e.id);return t?t.parentNode:null}if(e.classList&&e.classList.length){var n=[];[].forEach.call(e.classList,function(e){n.push(e)});var i=document.getElementsByClassName(n.join(" "));return i.length&&void 0!==i[0]?i[0].parentNode:null}return e.parentNode?o(e.parentNode):null}function o(e,t,n){var i=t||!1,r=n||0;if(e[0]&&i&&1===r){var o=e[0];if(o.id)return document.getElementById(o.id);if(o.classList&&o.classList.length){var s=[];return[].forEach.call(o.classList,function(e){s.push(e)}),document.querySelector(o.tagName+"."+s.join(".")).parentNode}return console.warn("SmartInformerCreator._extractArticle: Cant select element from read DOM by using node -"+o.tagName),null}var l=null;return Array.isHTMLCollection(e)&&e.length?[].forEach.call(e,function(e){l=a(e,!0)}):l=a(e),l}function s(){if(F&&F.parentNode&&F.parentNode.children[0]&&"HEADER"===F.parentNode.children[0].tagName)F=F.parentNode;else if(F&&"wrap"===F.id&&"content"===F.children[0].id)F=F.children[0];else{var e=document.querySelector("a.logo.custom-logo-18");if(e)F=document.getElementsByClassName("content_text")[0];else if(e=document.querySelector("div#page-wrap > center>img"))F=document.getElementsByClassName("detail-left-side")[0];else{if(F){var t=null,n=!1;if(["div.td-pb-row > div.td-pb-span8.td-main-content > div.td-ss-main-content > article","div.entry-content"].forEach(function(e){n||(t=F.querySelector(e))&&(F=t,n=!0)}),n)return}F&&F.classList.contains("post-body")&&F.classList.contains("entry-content")?F=F.parentNode:(null===F&&H.rootElements&&Array.isHTMLCollection(H.rootElements)&&[].forEach.call(H.rootElements,function(e){"ARTICLE"===e.tagName?F=document.querySelector(e.tagName):console.info("SmartInformerCreator._parseArticle: Cant parse article. You should add this new condition to the code")}),F||console.error("SmartInformerCreator._parseArticle: Article In DOM not recognized"))}}}function l(e){return!(0!==$||!D.articleAcceptedWidth)||e<=$&&D.articleAcceptedWidth<=e}function c(e){if(!e||!e.parentNode)return e;if(l(v(e.parentNode))){var t=d(e.parentNode);return t||e.parentNode}return c(e.parentNode)}function d(e){if(!e.children)return console.warn("SmartInformerCreator._getChildWithSuitableWidth: Children were waited but, "+typeof e.children+"given"),null;var t=null;return e.children?([].forEach.call(e.children,function(e){!t&&(t=l(v(e))?e:null)}),t):l(v(e.children[0]))?e.children[0]:null}function h(e){var t=Array.prototype.indexOf.call(e.parentNode.children,e),n=e.parentNode.children[t+1];return n&&!n.clientHeight?h(n):n}function u(e,t){if(z<=300)return console.warn("SmartInformerCreator._insert: Article is too small to render informer block"),void(q=!0);var n=t||!1,i=h(e);if(m(e,["FIGURE","IMG","TABLE","IFRAME","TIME","CODE"]))return e.parentNode.insertBefore(U,e.nextSibling),(U=document.getElementById(U.id)).appendChild(k),void(q=!0);if(p(i,["SC_TBlock","fb_iframe_widget","twitter-tweet-button","adsbygoogle"]))u(i,!1);else{if("IMG"!==e.tagName&&!l(e.clientWidth)||-1!=e.className.indexOf("size-full")&&!l(e.clientWidth)){var r=c(e);return r.parentNode?r.parentNode.insertBefore(U,r):e.parentNode.insertBefore(U,n?e:e.nextSibling),void g(k)}-1!=["H1","H2","H3","H4","H5","H6"].indexOf(e.tagName)||f(i,["UL","OL"])?void 0!==i.nextSibling?e.parentNode.insertBefore(U,i.nextSibling):console.error("SmartInformerCreator._insert: Cant insert informer block after image - it does not exist"):f(i,["FIGURE","IMG","TABLE","IFRAME","TIME","CODE"])?void 0!==i.nextSibling?e.parentNode.insertBefore(U,i.nextSibling):console.error("SmartInformerCreator._insert: Cant insert informer block after image - it does not exist"):m(e,["INS"])?e.parentNode.insertBefore(U,i):e.parentNode.insertBefore(U,n?e:e.nextSibling),g(k)}}function g(e){(U=document.getElementById(U.id)).appendChild(e),q=!0}function f(e,t){return void 0!==e&&-1!=t.indexOf(e.tagName)||m(e,t)}function m(e,t){if(!t||!t.length)return console.warn("SmartInformerCreator._hasChildTags: tags MUST NOT be empty array"),!1;if(void 0===e)return!1;if(!e.children||0===e.children.length)return!1;var n=!1;return[].forEach.call(e.children,function(e){e.children&&e.children.length>0&&[].forEach.call(e.children,function(e){n||(n=m(e,t))}),n||-1!=t.indexOf(e.tagName)&&(n=!0)}),n}function p(e,t){if(!t||!t.length)return console.warn("SmartInformerCreator._hasChildWithClass: tags MUST NOT be empty array"),!1;if(void 0===e)return!1;if(!e.children||0===e.children.length)return!1;var n=!1;return[].forEach.call(e.children,function(e){e.children&&e.children.length>0&&[].forEach.call(e.children,function(e){n||(n=m(e,t))}),n||t.forEach(function(t){n||(n=e.classList.contains(t))})}),n}function _(e,t){if(!t)return console.warn("SmartInformerCreator._getFirstChildByTag: - tag MUST NOT be empty array"),!1;if(void 0===e)return console.warn("SmartInformerCreator._getFirstChildByTag: - Node MUST NOT be empty "),!1;if(!e.children||0===e.children.length)return!1;var n=null;return[].forEach.call(e.children,function(e){e.children&&e.children.length>0&&[].forEach.call(e.children,function(e){n||(n=_(e,t))}),n||-1!=t.indexOf(e.tagName)&&(n=e)}),n}function N(e){if(e){var t=0;return(t=O(e)?y(e):e.clientHeight)?t+T(e,"bottom")+T(e,"top"):e.children&&0===e.children.length&&0===t?t:([].forEach.call(e.children,function(e){t=e.children?N(e):e.clientHeight+T(e,"bottom")+T(e,"top")}),t)}}function v(e){if(e&&!C(e)){var t=e.clientWidth;return t||(e.children&&0===e.children.length&&0===t?t:e.children?([].forEach.call(e.children,function(e){t=e.children?v(e):e.clientWidth+v(e,"left")+T(e,"right")}),t):t)}}function b(e){e.parentNode.children.length>1?x(e.nextSibling):b(e.parentNode.nextSibling)}function E(e){return e.charAt(0).toUpperCase()+e.slice(1)}function y(e){var t=0;if(document.createRange){var n=document.createRange();if(n.selectNodeContents(e),n.getBoundingClientRect){var i=n.getBoundingClientRect();i&&(t=i.bottom-i.top)}}return t}function T(e,t){try{var n=(e.currentStyle||window.getComputedStyle(e))["margin"+E(t.toLowerCase())].replace("px","");return r(n)?parseInt(n):0}catch(t){return"#text"===e.nodeName?y(e):0}}function A(e){var t=e.parentNode,n=e.currentStyle||window.getComputedStyle(t),i=n.fontSize.replace("px",""),a=n.lineHeight.replace("px","");return i=r(i)?parseInt(i):0,a=r(a)?parseInt(a):0,i+a}function x(e){function t(e){return"TABLE"===e.tagName?e:e.parentNode&&"TABLE"!==e.parentNode.tagName?t(e.parentNode):e.parentNode}if(!q&&e&&!C(e)&&void 0!==e.clientHeight){var n=0;if(0!==(n=O(e)?y(e):N(e))&&(Y+=n,!K.beforeGoal)){if(K.neededGoal)return m(e,["P","BLOCKQUOTE","PRE"])?(Y-=n,void[].forEach.call(e.children,function(e){x(e)})):-1!=["TR","TD","THEAD","TBODY","TFOOTER","TABLE"].indexOf(e.tagName)?void u(t(e)):-1!=["LI","INS","IMG","TABLE"].indexOf(e.tagName)?"LI"===e.tagName&&j<=10?void u(e,!0):void u(e.parentNode):void u(e);if(K.afterGoal){if((Y-=n)+n<z&&-1!=["IFRAME","IMG","FIGURE","TIME","CODE"].indexOf(e.tagName))return void u(e);if((n>=z||Y+n>=z)&&e.children&&e.children.length)return void S(e);if(-1!=["P","BLOCKQUOTE","PRE","SPAN"].indexOf(e.tagName))return-1!=["BLOCKQUOTE","PRE"].indexOf(e.tagName)?e.children?void[].forEach.call(e.children,function(e){x(e)}):void u(e):m(e,["IMG","FIGURE","IFRAME"])?void u(_(e,["IMG","FIGURE","IFRAME"])):j>=70&&Y+n<=z?void u(e):void u(e,!0);S(e)}}}}function S(e){e&&(e.children&&e.children.length?[].forEach.call(e.children,function(e){x(e)}):b(e))}function C(e){var t=!1;return Z.forEach(function(n){!t&&e.id&&(t=e.id.includes(n))}),!!t||(Q.forEach(function(n){!t&&e.className&&(t=-1!=e.className.indexOf(n))}),e.children&&e.children[2]&&"INS"===e.children[2].tagName&&e.children[2].classList&&e.children[2].classList.contains("adsbygoogle")&&(t=!0),t)}function L(){return"Microsoft Internet Explorer"==navigator.appName||!(!navigator.userAgent.match(/Trident/)&&!navigator.userAgent.match(/rv:11/))}function I(e){if(!e.children||0===e.children)return!0;var t=!0;return[].forEach.call(e.children,function(e){t&&(0===e.clientHeight?!t&&e.children&&e.children.length&&(t=I(e)):t=!1)}),t}function O(e){return e.nodeType===Node.TEXT_NODE}function w(e){if(e&&"FOOTER"!==e.tagName&&!C(e)){if(L()&&"[object Text]"===Object.prototype.toString.call(e)&&""===e.nodeValue.trim())return 0;var t=0;O(e)?t+=y(e):"BR"===e.tagName&&e.nextSibling&&"BR"===e.nextSibling.tagName?t+=A(e):t+=e.clientHeight+T(e,"bottom")+T(e,"top"),t&&(!(e.childNodes&&0===e.childNodes.length)&&!I(e)||0===t?[].forEach.call(e.childNodes,function(e){w(e)}):z+=t)}}function B(e){if(!e.children||0===e.children)return 0===e.clientWidth;var t=!1;return[].forEach.call(e.children,function(e){t||(0===e.clientWidth?t=!0:e.children&&e.children.length&&(t=B(e)))}),t}function P(e){if(e){var t=e.clientWidth+T(e,"left")+T(e,"right");t&&((e.children&&0===e.children.length||B(e))&&0!==t&&-1!=["P","PRE","BLOCKQUOTE","H1","H2","H3","H4","H5","H6"].indexOf(e.tagName)?$<=t&&($=t):e.children&&[].forEach.call(e.children,function(e){P(e)}))}}function R(){F&&(w(F),P(F),X=z*j/100,W=z*V/100)}r(n)&&r(i)||console.error("SmartInformerCreator.constructor: Provided percentages must be numeric only. _percentageFrom: "+n+" _percentageTo: "+i+" given"),e||console.error("SmartInformerCreator.constructor: smartInformerName must be specified"),void 0!==t&&""!=t||console.error("SmartInformerCreator.constructor: Root Id was excepted but "+t+" given"),n||console.warn("SmartInformerCreator.constructor: Percentage from was excepted but it was not given. Default value (30% will be used)"),i||console.warn("SmartInformerCreator.constructor: Percentage to was excepted but it was not given. Default value (60% will be used)"),(n<0||n>100)&&console.error("SmartInformerCreator.constructor: _percentageFrom param must be between 0-100 and lower than _percentageTo. "+n+" given"),(i<0||i>100)&&console.error("SmartInformerCreator.constructor: _percentageFrom param must be between 0-100 and lower than _percentageTo. "+n+" given"),n>i&&console.error("SmartInformerCreator.constructor: _percentageFrom > _percentageTo. This must be _percentageFrom < _percentageTo");var D=this,M=t,G=e+t,k=document.getElementById(G);k.parentNode.removeChild(k);var H,F,U,X,W,j=null===n||void 0===n?30:n,V=null===i||void 0===i?60:i,z=0,$=0,Y=0,q=!1,K={};Object.defineProperties(this,{articleAcceptedWidth:{get:function(){return $-20*$/100}}}),Object.defineProperties(K,{beforeGoal:{get:function(){return 0===Y||Y<=X}},neededGoal:{get:function(){return Y>=X&&Y<=W}},afterGoal:{get:function(){return Y>=W||Y<=z}}});var Q=["native_ad","adds","td-post-next-prev","adsb30","sadserver","adsbygoogle","fb-share-button","fb_iframe_widget","fb-comments","td_block_related_posts","td-post-sharing","td-post-sharing-top","sharing","shareaholic-ui","comments","related","share","at-share-btn-elements","post-footer"],Z=["ad-space","fb_comments_div","ad-space","div-gpt-ad","MarketGidScript","MarketGidScriptRoot","disqus_comments_div","ScriptRoot","Preload","MarketGidComposite","SC_TBlock"];return function(){(U=document.createElement("div")).id=e+"Root"+M,U.classList.add("yui3-cssreset");var t={animation:"none","animation-delay":"0","animation-direction":"normal","animation-duration":"0","animation-fill-mode":"none","animation-iteration-count":"1","animation-name":"none","animation-play-state":"running","animation-timing-function":"ease","backface-visibility":"visible",background:"0","background-attachment":"scroll","background-clip":"borderBox","background-color":"transparent","background-image":"none","background-origin":"paddingBox","background-position":"0 0","background-position-x":"0","background-position-y":"0","background-repeat":"repeat","background-size":"auto auto",border:"0","border-style":"none","border-width":"medium","border-color":"inherit","border-bottom":"0","border-bottom-color":"inherit","border-bottom-left-radius":"0","border-bottom-right-radius":"0","border-bottom-style":"none","border-bottom-width":"medium","border-collapse":"separate","border-image":"none","border-left":"0","border-left-color":"inherit","border-left-style":"none","border-left-width":"medium","border-radius":"0","border-right":"0","border-right-color":"inherit","border-right-style":"none","border-right-width":"medium","border-spacing":"0","border-top":"0","border-top-color":"inherit","border-top-left-radius":"0","border-top-right-radius":"0","border-top-style":"none","border-top-width":"medium",bottom:"auto","box-shadow":"none","box-sizing":"contentBox","caption-side":"top",clear:"none",clip:"auto",color:"inherit",columns:"auto","column-count":"auto","column-fill":"balance","column-gap":"normal","column-rule":"medium none currentColor","column-rule-color":"currentColor","column-rule-style":"none","column-rule-width":"none","column-span":"1","column-width":"auto",content:"normal","counter-increment":"none","counter-reset":"none",cursor:"auto",direction:"ltr",display:"inline","empty-cells":"show",float:"left",font:"normal","font-family":"inherit","font-size":"medium","font-style":"normal","font-variant":"normal","font-weight":"normal",height:"auto",hyphens:"none",left:"auto","letter-spacing":"normal","line-height":"normal","list-style":"none","list-style-image":"none","list-style-position":"outside","list-style-type":"disc",margin:"0","margin-bottom":"0","margin-left":"0","margin-right":"0","margin-top":"10px","max-height":"none","max-width":"none","min-height":"0","min-width":"0",opacity:"1",orphans:"0",outline:"0","outline-color":"invert","outline-style":"none","outline-width":"medium",overflow:"visible","overflow-x":"visible","overflow-y":"visible",padding:"0","padding-bottom":"0","padding-left":"0","padding-right":"0","padding-top":"0","page-break-after":"auto","page-break-before":"auto","page-break-inside":"auto",perspective:"none","perspective-origin":"50% 50%",position:"static",quotes:"'C' 'D' '8' '9'",right:"auto",tabSize:"8","table-layout":"auto","text-align":"inherit","text-alignLast":"auto","text-decoration":"none","text-decoration-color":"inherit","text-decoration-line":"none","text-decoration-style":"solid","text-indent":"0","text-shadow":"none","text-transform":"none",top:"auto",transform:"none","transform-style":"flat",transition:"none","transition-delay":"0s","transition-duration":"0s","transition-property":"none","transition-timing-fFunction":"ease","unicode-bidi":"normal","vertical-align":"baseline",visibility:"visible","white-space":"normal",widows:"0",width:"100%","word-spacing":"normal","z-index":"auto"};Object.keys(t).forEach(function(e){U.style.setProperty(e,t[e],"important")})}(),function(){var e=document.location;H=new Readability({spec:e.href,host:e.host,prePath:e.protocol+"//"+e.host,scheme:e.protocol.substr(0,e.protocol.indexOf(":")),pathBase:e.protocol+"//"+e.host+e.pathname.substr(0,e.pathname.lastIndexOf("/")+1)},document.cloneNode(!0)).parse(),F=o(H.rootElements,!0,H.rootElements.length),s()}(),R(),{create:function(){F?(F.children||F.length||console.error("SmartInformerCreator._initiateCreating: Article cant be without any children"),0===z&&R(),F.length?[].forEach.call(F,function(e){[].forEach.call(e.children,function(e){x(e)})}):[].forEach.call(F.children,function(e){x(e)})):console.error("SmartInformerCreator._initiateCreating: Article cant be without any children")}}}"classList"in document.createElement("_")?function(){"use strict";var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){for(var n=-1,i=arguments.length;++n<i;)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c1",!0),!e.classList.contains("c1")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}e=null}():"Element"in view&&function(e){"use strict";var t="prototype",n=Array[t].indexOf,i=function(e,t){this.name=e,this.code=DOMException[e],this.message=t};i[t]=Error[t];var r=function(e,t){if(""===t)throw new i("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new i("INVALID_CHARACTER_ERR","String contains an invalid character");return n.call(e,t)},a=function(e){var t=(e.getAttribute("class")||"").trim();if(t)for(var n=t.split(/\s+/),i=-1,r=n.length;++i<r;)this.push(n[i]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},o=a[t]=[];o.item=function(e){return this[e]||null},o.add=function(){for(var e=arguments,t=!1,n=-1,i=e.length;++n<i;){var a=e[n]+"";-1===r(this,a)&&(this.push(a),t=!0)}t&&this._updateClassName()},o.remove=function(){for(var e,t=arguments,n=!1,i=-1,a=t.length;++i<a;)for(var o=t[i]+"";-1!==(e=r(this,o));)this.splice(e,1),n=!0;n&&this._updateClassName()},o.toggle=function(e,t){return e+="",this.contains(e)?!0===t||(this.remove(e),!1):!1!==t&&(this.add(e),!0)},o.toString=function(){return this.join(" ")},o.contains=function(e){return-1!==r(this,e+"")};Object.defineProperty(e.Element[t],"classList",{get:function(){return new a(this)},enumerable:!0,configurable:!0})}(self),"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||function(e){"use strict";if("Element"in e){var t="classList",n="prototype",i=e.Element[n],r=Object,a=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[n].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},s=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},l=function(e,t){if(""===t)throw new s("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new s("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(e,t)},c=function(e){for(var t=a.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],i=0,r=n.length;r>i;i++)this.push(n[i]);this._updateClassName=function(){e.setAttribute("class",""+this)}},d=c[n]=[],h=function(){return new c(this)};if(s[n]=Error[n],d.item=function(e){return this[e]||null},d.contains=function(e){return e+="",-1!==l(this,e)},d.add=function(){var e,t=arguments,n=0,i=t.length,r=!1;do{e=t[n]+"",-1===l(this,e)&&(this.push(e),r=!0)}while(++n<i);r&&this._updateClassName()},d.remove=function(){var e,t,n=arguments,i=0,r=n.length,a=!1;do{for(e=n[i]+"",t=l(this,e);-1!==t;)this.splice(t,1),a=!0,t=l(this,e)}while(++i<r);a&&this._updateClassName()},d.toggle=function(e,t){e+="";var n=this.contains(e),i=n?!0!==t&&"remove":!1!==t&&"add";return i&&this[i](e),!0===t||!1===t?t:!n},d.toString=function(){return this.join(" ")},r.defineProperty){var u={get:h,enumerable:!0,configurable:!0};try{r.defineProperty(i,t,u)}catch(e){(void 0===e.number||-2146823252===e.number)&&(u.enumerable=!1,r.defineProperty(i,t,u))}}else r[n].__defineGetter__&&i.__defineGetter__(t,h)}}(self),function(){"use strict";var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,i=arguments.length;for(n=0;i>n;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}e=null}()),String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),Array.isHTMLCollection||(Array.isHTMLCollection=function(e){return"[object HTMLCollection]"===Object.prototype.toString.call(e)}),[].includes||(Array.prototype.includes=function(e){"use strict";var t=Object(this),n=parseInt(t.length)||0;if(0===n)return!1;var i,r=parseInt(arguments[1])||0;for(r>=0?i=r:(i=n+r)<0&&(i=0);i<n;){var a=t[i];if(e===a||e!==e&&a!==a)return!0;i++}return!1}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n;if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),r=i.length>>>0;if(0===r)return-1;var a=+t||0;if(Math.abs(a)===1/0&&(a=0),a>=r)return-1;for(n=Math.max(a>=0?a:r-Math.abs(a),0);n<r;){if(n in i&&i[n]===e)return n;n++}return-1}),Readability.prototype={FLAG_STRIP_UNLIKELYS:1,FLAG_WEIGHT_CLASSES:2,FLAG_CLEAN_CONDITIONALLY:4,DEFAULT_MAX_ELEMS_TO_PARSE:0,DEFAULT_N_TOP_CANDIDATES:5,DEFAULT_MAX_PAGES:5,DEFAULT_TAGS_TO_SCORE:"section,h2,h3,h4,h5,h6,p,td,pre".toUpperCase().split(","),REGEXPS:{unlikelyCandidates:/banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|foot|header|legends|menu|modal|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,okMaybeItsACandidate:/and|article|body|column|main|shadow/i,positive:/article|body|content|entry|hentry|h-entry|main|page|pagination|post|text|blog|story/i,negative:/hidden|^hid$| hid$| hid |^hid |banner|combx|comment|com-|contact|foot|footer|footnote|masthead|media|meta|modal|outbrain|promo|related|scroll|share|shoutbox|sidebar|skyscraper|sponsor|shopping|tags|tool|widget/i,extraneous:/print|archive|comment|discuss|e[\-]?mail|share|reply|all|login|sign|single|utility/i,byline:/byline|author|dateline|writtenby|p-author/i,replaceFonts:/<(\/?)font[^>]*>/gi,normalize:/\s{2,}/g,videos:/\/\/(www\.)?(dailymotion|youtube|youtube-nocookie|player\.vimeo)\.com/i,nextLink:/(next|weiter|continue|>([^\|]|$)|�([^\|]|$))/i,prevLink:/(prev|earl|old|new|<|�)/i,whitespace:/^\s*$/,hasContent:/\S$/},DIV_TO_P_ELEMS:["A","BLOCKQUOTE","DL","DIV","IMG","OL","P","PRE","TABLE","UL","SELECT"],ALTER_TO_DIV_EXCEPTIONS:["DIV","ARTICLE","SECTION","P"],_postProcessContent:function(e){this._fixRelativeUris(e)},_removeNodes:function(e,t){for(var n=e.length-1;n>=0;n--){var i=e[n],r=i.parentNode;r&&(t&&!t.call(this,i,n,e)||r.removeChild(i))}},_replaceNodeTags:function(e,t){for(var n=e.length-1;n>=0;n--){var i=e[n];this._setNodeTag(i,t)}},_forEachNode:function(e,t){Array.prototype.forEach.call(e,t,this)},_someNode:function(e,t){return Array.prototype.some.call(e,t,this)},_concatNodeLists:function(){var e=Array.prototype.slice,t=e.call(arguments).map(function(t){return e.call(t)});return Array.prototype.concat.apply([],t)},_getAllNodesWithTag:function(e,t){return e.querySelectorAll?e.querySelectorAll(t.join(",")):[].concat.apply([],t.map(function(t){var n=e.getElementsByTagName(t);return Array.isArray(n)?n:Array.from(n)}))},_fixRelativeUris:function(e){function t(e){return/^[a-zA-Z][a-zA-Z0-9\+\-\.]*:/.test(e)?e:"//"==e.substr(0,2)?n+"://"+e.substr(2):"/"==e[0]?i+e:0===e.indexOf("./")?r+e.slice(2):"#"==e[0]?e:r+e}var n=this._uri.scheme,i=this._uri.prePath,r=this._uri.pathBase,a=e.getElementsByTagName("a");this._forEachNode(a,function(e){var n=e.getAttribute("href");if(n)if(0===n.indexOf("javascript:")){var i=this._doc.createTextNode(e.textContent);e.parentNode.replaceChild(i,e)}else e.setAttribute("href",t(n))});var o=e.getElementsByTagName("img");this._forEachNode(o,function(e){var n=e.getAttribute("src");n&&e.setAttribute("src",t(n))})},_getArticleTitle:function(){function e(e){return e.split(/\s+/).length}var t=this._doc,n="",i="";try{"string"!=typeof(n=i=t.title)&&(n=i=this._getInnerText(t.getElementsByTagName("title")[0]))}catch(e){}var r=!1;if(/ [\|\-\\\/>�] /.test(n))r=/ [\\\/>�] /.test(n),e(n=i.replace(/(.*)[\|\-\\\/>�] .*/gi,"$1"))<3&&(n=i.replace(/[^\|\-\\\/>�]*[\|\-\\\/>�](.*)/gi,"$1"));else if(-1!==n.indexOf(": ")){var a=this._concatNodeLists(t.getElementsByTagName("h1"),t.getElementsByTagName("h2"));this._someNode(a,function(e){return e.textContent===n})||e(n=i.substring(i.lastIndexOf(":")+1))<3&&(n=i.substring(i.indexOf(":")+1))}else if(n.length>150||n.length<15){var o=t.getElementsByTagName("h1");1===o.length&&(n=this._getInnerText(o[0]))}var s=e(n=n.trim());return s<=4&&(!r||s!=e(i.replace(/[\|\-\\\/>�]+/g,""))-1)&&(n=i),n},_prepDocument:function(){var e=this._doc;this._removeNodes(e.getElementsByTagName("style")),e.body&&this._replaceBrs(e.body),this._replaceNodeTags(e.getElementsByTagName("font"),"SPAN")},_nextElement:function(e){for(var t=e;t&&t.nodeType!=Node.ELEMENT_NODE&&this.REGEXPS.whitespace.test(t.textContent);)t=t.nextSibling;return t},_replaceBrs:function(e){this._forEachNode(this._getAllNodesWithTag(e,["br"]),function(e){for(var t=e.nextSibling,n=!1;(t=this._nextElement(t))&&"BR"==t.tagName;){n=!0;var i=t.nextSibling;t.parentNode.removeChild(t),t=i}if(n){var r=this._doc.createElement("p");for(e.parentNode.replaceChild(r,e),t=r.nextSibling;t;){if("BR"==t.tagName){var a=this._nextElement(t);if(a&&"BR"==a.tagName)break}var o=t.nextSibling;r.appendChild(t),t=o}}})},_setNodeTag:function(e,t){if(this.log("_setNodeTag",e,t),e.__JSDOMParser__)return e.localName=t.toLowerCase(),e.tagName=t.toUpperCase(),e;for(var n=e.ownerDocument.createElement(t);e.firstChild;)n.appendChild(e.firstChild);e.parentNode.replaceChild(n,e),e.readability&&(n.readability=e.readability);for(var i=0;i<e.attributes.length;i++)n.setAttribute(e.attributes[i].name,e.attributes[i].value);return n},_prepArticle:function(e){this._cleanStyles(e),this._markDataTables(e),this._cleanConditionally(e,"form"),this._cleanConditionally(e,"fieldset"),this._clean(e,"object"),this._clean(e,"embed"),this._clean(e,"h1"),this._clean(e,"footer"),this._forEachNode(e.children,function(e){this._cleanMatchedNodes(e,/share/)});var t=e.getElementsByTagName("h2");if(1===t.length){var n=(t[0].textContent.length-this._articleTitle.length)/this._articleTitle.length;if(Math.abs(n)<.5){(n>0?t[0].textContent.includes(this._articleTitle):this._articleTitle.includes(t[0].textContent))&&this._clean(e,"h2")}}this._clean(e,"iframe"),this._clean(e,"input"),this._clean(e,"textarea"),this._clean(e,"select"),this._clean(e,"button"),this._cleanHeaders(e),this._cleanConditionally(e,"table"),this._cleanConditionally(e,"ul"),this._cleanConditionally(e,"div"),this._removeNodes(e.getElementsByTagName("p"),function(e){return 0===e.getElementsByTagName("img").length+e.getElementsByTagName("embed").length+e.getElementsByTagName("object").length+e.getElementsByTagName("iframe").length&&!this._getInnerText(e,!1)}),this._forEachNode(this._getAllNodesWithTag(e,["br"]),function(e){var t=this._nextElement(e.nextSibling);t&&"P"==t.tagName&&e.parentNode.removeChild(e)})},_initializeNode:function(e){switch(e.readability={contentScore:0},e.tagName){case"DIV":e.readability.contentScore+=5;break;case"PRE":case"TD":case"BLOCKQUOTE":e.readability.contentScore+=3;break;case"ADDRESS":case"OL":case"UL":case"DL":case"DD":case"DT":case"LI":case"FORM":e.readability.contentScore-=3;break;case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"TH":e.readability.contentScore-=5}e.readability.contentScore+=this._getClassWeight(e)},_removeAndGetNext:function(e){var t=this._getNextNode(e,!0);return e.parentNode.removeChild(e),t},_getNextNode:function(e,t){if(!t&&e.firstElementChild)return e.firstElementChild;if(e.nextElementSibling)return e.nextElementSibling;do{e=e.parentNode}while(e&&!e.nextElementSibling);return e&&e.nextElementSibling},_getNextNodeNoElementProperties:function(e,t){function n(e){do{e=e.nextSibling}while(e&&e.nodeType!==e.ELEMENT_NODE);return e}if(!t&&e.children[0])return e.children[0];var i=n(e);if(i)return i;do{(e=e.parentNode)&&(i=n(e))}while(e&&!i);return e&&i},_checkByline:function(e,t){if(this._articleByline)return!1;if(void 0!==e.getAttribute)var n=e.getAttribute("rel");return!("author"!==n&&!this.REGEXPS.byline.test(t)||!this._isValidByline(e.textContent))&&(this._articleByline=e.textContent.trim(),!0)},_getNodeAncestors:function(e,t){t=t||0;for(var n=0,i=[];e.parentNode&&(i.push(e.parentNode),!t||++n!==t);)e=e.parentNode;return i},_grabArticle:function(e){this.log("**** grabArticle ****");var t=this._doc,n=null!==e;if(!(e=e||this._doc.body))return this.log("No body found in document. Abort."),null;for(var i=e.innerHTML;;){for(var r=this._flagIsActive(this.FLAG_STRIP_UNLIKELYS),a=[],o=this._doc.documentElement;o;){var s=o.className+" "+o.id;if(this._checkByline(o,s))o=this._removeAndGetNext(o);else if(r&&this.REGEXPS.unlikelyCandidates.test(s)&&!this.REGEXPS.okMaybeItsACandidate.test(s)&&"BODY"!==o.tagName&&"A"!==o.tagName)this.log("Removing unlikely candidate - "+s),o=this._removeAndGetNext(o);else if("DIV"!==o.tagName&&"SECTION"!==o.tagName&&"HEADER"!==o.tagName&&"H1"!==o.tagName&&"H2"!==o.tagName&&"H3"!==o.tagName&&"H4"!==o.tagName&&"H5"!==o.tagName&&"H6"!==o.tagName||!this._isElementWithoutContent(o)){if(-1!==this.DEFAULT_TAGS_TO_SCORE.indexOf(o.tagName)&&a.push(o),"DIV"===o.tagName)if(this._hasSinglePInsideElement(o)){var l=o.children[0];o.parentNode.replaceChild(l,o),o=l}else this._hasChildBlockElement(o)?this._forEachNode(o.childNodes,function(e){if(e.nodeType===Node.TEXT_NODE&&e.textContent.trim().length>0){var n=t.createElement("p");n.textContent=e.textContent,n.style.display="inline",n.className="readability-styled",o.replaceChild(n,e)}}):(o=this._setNodeTag(o,"P"),a.push(o));o=this._getNextNode(o)}else o=this._removeAndGetNext(o)}var c=[];this._forEachNode(a,function(e){if(e.parentNode&&void 0!==e.parentNode.tagName){var t=this._getInnerText(e);if(!(t.length<25)){var n=this._getNodeAncestors(e,3);if(0!==n.length){var i=0;i+=1,i+=t.split(",").length,i+=Math.min(Math.floor(t.length/100),3),this._forEachNode(n,function(e,t){if(e.tagName){if(void 0===e.readability&&(this._initializeNode(e),c.push(e)),0===t)var n=1;else n=1===t?2:3*t;e.readability.contentScore+=i/n}})}}}});for(var d=[],h=0,u=c.length;h<u;h+=1){var g=c[h],f=g.readability.contentScore*(1-this._getLinkDensity(g));g.readability.contentScore=f,this.log("Candidate:",g,"with score "+f);for(var m=0;m<this._nbTopCandidates;m++){var p=d[m];if(!p||f>p.readability.contentScore){d.splice(m,0,g),d.length>this._nbTopCandidates&&d.pop();break}}}var _,N=d[0]||null,v=!1;if(null===N||"BODY"===N.tagName){N=t.createElement("DIV"),v=!0;for(var b=e.childNodes;b.length;)this.log("Moving child out:",b[0]),N.appendChild(b[0]);e.appendChild(N),this._initializeNode(N)}else if(N){for(var E=[],y=1;y<d.length;y++)d[y].readability.contentScore/N.readability.contentScore>=.75&&E.push(this._getNodeAncestors(d[y]));if(E.length>=3)for(_=N.parentNode;"BODY"!==_.tagName;){for(var T=0,A=0;A<E.length&&T<3;A++)T+=Number(E[A].includes(_));if(T>=3){N=_;break}_=_.parentNode}N.readability||this._initializeNode(N),_=N.parentNode;for(var x=N.readability.contentScore,S=x/3;"BODY"!==_.tagName;)if(_.readability){var C=_.readability.contentScore;if(C<S)break;if(C>x){N=_;break}x=_.readability.contentScore,_=_.parentNode}else _=_.parentNode;for(_=N.parentNode;"BODY"!=_.tagName&&1==_.children.length;)_=(N=_).parentNode;N.readability||this._initializeNode(N)}var L=t.createElement("DIV");n&&(L.id="readability-content");for(var I=Math.max(10,.2*N.readability.contentScore),O=(_=N.parentNode).children,w=0,B=O.length;w<B;w++){var P=O[w],R=!1;if(this.log("Looking at sibling node:",P,P.readability?"with score "+P.readability.contentScore:""),this.log("Sibling has score",P.readability?P.readability.contentScore:"Unknown"),P===N)R=!0;else{var D=0;if(P.className===N.className&&""!==N.className&&(D+=.2*N.readability.contentScore),P.readability&&P.readability.contentScore+D>=I)R=!0;else if("P"===P.nodeName){var M=this._getLinkDensity(P),G=this._getInnerText(P),k=G.length;k>80&&M<.25?R=!0:k<80&&k>0&&0===M&&-1!==G.search(/\.( |$)/)&&(R=!0)}}R&&(this.log("Appending node:",P),-1===this.ALTER_TO_DIV_EXCEPTIONS.indexOf(P.nodeName)&&(this.log("Altering sibling:",P,"to div."),P=this._setNodeTag(P,"DIV")),L.appendChild(P),w-=1,B-=1)}if(this._debug&&this.log("Article content pre-prep: "+L.innerHTML),this._prepArticle(L),this._debug&&this.log("Article content post-prep: "+L.innerHTML),1===this._curPageNum)if(v)N.id="readability-page-1",N.className="page";else{var H=t.createElement("DIV");H.id="readability-page-1",H.className="page";for(var F=L.childNodes;F.length;)H.appendChild(F[0]);L.appendChild(H)}if(this._debug&&this.log("Article content after paging: "+L.innerHTML),!(this._getInnerText(L,!0).length<500)){var U=[_,N].concat(this._getNodeAncestors(_));return this._someNode(U,function(e){if(!e.tagName)return!1;var t=e.getAttribute("dir");return!!t&&(this._articleDir=t,!0)}),L}if(e.innerHTML=i,this._flagIsActive(this.FLAG_STRIP_UNLIKELYS))this._removeFlag(this.FLAG_STRIP_UNLIKELYS);else if(this._flagIsActive(this.FLAG_WEIGHT_CLASSES))this._removeFlag(this.FLAG_WEIGHT_CLASSES);else{if(!this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY))return null;this._removeFlag(this.FLAG_CLEAN_CONDITIONALLY)}}},_isValidByline:function(e){return("string"==typeof e||e instanceof String)&&((e=e.trim()).length>0&&e.length<100)},_getArticleMetadata:function(){var e={},t={},n=this._doc.getElementsByTagName("meta"),i=/^\s*((twitter)\s*:\s*)?(description|title)\s*$/gi,r=/^\s*og\s*:\s*(description|title)\s*$/gi;return this._forEachNode(n,function(n){var a=n.getAttribute("name"),o=n.getAttribute("property");if(-1===[a,o].indexOf("author")){var s=null;if(i.test(a)?s=a:r.test(o)&&(s=o),s){var l=n.getAttribute("content");l&&(s=s.toLowerCase().replace(/\s/g,""),t[s]=l.trim())}}else e.byline=n.getAttribute("content")}),"description"in t?e.excerpt=t.description:"og:description"in t?e.excerpt=t["og:description"]:"twitter:description"in t&&(e.excerpt=t["twitter:description"]),e.title=this._getArticleTitle(),e.title||("og:title"in t?e.title=t["og:title"]:"twitter:title"in t&&(e.title=t["twitter:title"])),e},_removeScripts:function(e){this._removeNodes(e.getElementsByTagName("script"),function(e){return e.nodeValue="",e.removeAttribute("src"),!0}),this._removeNodes(e.getElementsByTagName("noscript"))},_hasSinglePInsideElement:function(e){return 1==e.children.length&&"P"===e.children[0].tagName&&!this._someNode(e.childNodes,function(e){return e.nodeType===Node.TEXT_NODE&&this.REGEXPS.hasContent.test(e.textContent)})},_isElementWithoutContent:function(e){return e.nodeType===Node.ELEMENT_NODE&&0==e.textContent.trim().length&&(0==e.children.length||e.children.length==e.getElementsByTagName("br").length+e.getElementsByTagName("hr").length)},_hasChildBlockElement:function(e){return this._someNode(e.childNodes,function(e){return-1!==this.DIV_TO_P_ELEMS.indexOf(e.tagName)||this._hasChildBlockElement(e)})},_getInnerText:function(e,t){t=void 0===t||t;var n=e.textContent.trim();return t?n.replace(this.REGEXPS.normalize," "):n},_getCharCount:function(e,t){return t=t||",",this._getInnerText(e).split(t).length-1},_cleanStyles:function(e){if(e=e||this._doc){var t=e.firstChild;for("function"==typeof e.removeAttribute&&"readability-styled"!==e.className&&e.removeAttribute("style");null!==t;)t.nodeType===t.ELEMENT_NODE&&("readability-styled"!==t.className&&t.removeAttribute("style"),this._cleanStyles(t)),t=t.nextSibling}},_getLinkDensity:function(e){var t=this._getInnerText(e).length;if(0===t)return 0;var n=0;return this._forEachNode(e.getElementsByTagName("a"),function(e){n+=this._getInnerText(e).length}),n/t},_findBaseUrl:function(){for(var e=this._uri,t=e.path.split("?")[0].split("/").reverse(),n=[],i=0,r=t.length;i<r;i+=1){var a=t[i];-1!==a.indexOf(".")&&(a.split(".")[1].match(/[^a-zA-Z]/)||(a=a.split(".")[0])),!a.match(/((_|-)?p[a-z]*|(_|-))[0-9]{1,2}$/i)||1!==i&&0!==i||(a=a.replace(/((_|-)?p[a-z]*|(_|-))[0-9]{1,2}$/i,""));var o=!1;i<2&&a.match(/^\d{1,2}$/)&&(o=!0),0===i&&"index"===a.toLowerCase()&&(o=!0),i<2&&a.length<3&&!t[0].match(/[a-z]/i)&&(o=!0),o||n.push(a)}return e.scheme+"://"+e.host+n.reverse().join("/")},_findNextPageLink:function(e){for(var t=this._uri,n={},i=e.getElementsByTagName("a"),r=this._findBaseUrl(),a=0,o=i.length;a<o;a+=1){var s=i[a],l=i[a].href.replace(/#.*$/,"").replace(/\/$/,"");if(!(""===l||l===r||l===t.spec||l in this._parsedPages)&&t.host===l.split(/\/+/g)[1]){var c=this._getInnerText(s);if(!(c.match(this.REGEXPS.extraneous)||c.length>25)&&l.replace(r,"").match(/\d/)){l in n?n[l].linkText+=" | "+c:n[l]={score:0,linkText:c,href:l};var d=n[l];0!==l.indexOf(r)&&(d.score-=25);var h=c+" "+s.className+" "+s.id;h.match(this.REGEXPS.nextLink)&&(d.score+=50),h.match(/pag(e|ing|inat)/i)&&(d.score+=25),h.match(/(first|last)/i)&&(d.linkText.match(this.REGEXPS.nextLink)||(d.score-=65)),(h.match(this.REGEXPS.negative)||h.match(this.REGEXPS.extraneous))&&(d.score-=50),h.match(this.REGEXPS.prevLink)&&(d.score-=200);for(var u=s.parentNode,g=!1,f=!1;u;){var m=u.className+" "+u.id;!g&&m&&m.match(/pag(e|ing|inat)/i)&&(g=!0,d.score+=25),!f&&m&&m.match(this.REGEXPS.negative)&&(m.match(this.REGEXPS.positive)||(d.score-=25,f=!0)),u=u.parentNode}(l.match(/p(a|g|ag)?(e|ing|ination)?(=|\/)[0-9]{1,2}/i)||l.match(/(page|paging)/i))&&(d.score+=25),l.match(this.REGEXPS.extraneous)&&(d.score-=15);var p=parseInt(c,10);p&&(1===p?d.score-=10:d.score+=Math.max(0,10-p))}}}var _=null;for(var N in n)n.hasOwnProperty(N)&&n[N].score>=50&&(!_||_.score<n[N].score)&&(_=n[N]);var v=null;return _&&(v=_.href.replace(/\/$/,""),this.log("NEXT PAGE IS "+v),this._parsedPages[v]=!0),v},_successfulRequest:function(e){return e.status>=200&&e.status<300||304===e.status||0===e.status&&e.responseText},_ajax:function(e,t){var n=new XMLHttpRequest;void 0===t&&(t={}),n.onreadystatechange=function(e){4===n.readyState&&(this._successfulRequest(n)?t.success&&t.success(n):t.error&&t.error(n))},n.open("get",e,!0),n.setRequestHeader("Accept","text/html");try{n.send(t.postBody)}catch(e){t.error&&t.error()}return n},_appendNextPage:function(e){var t=this._doc;this._curPageNum+=1;var n=t.createElement("DIV");if(n.id="readability-page-"+this._curPageNum,n.className="page",n.innerHTML='<p class="page-separator" title="Page '+this._curPageNum+'">&sect;</p>',t.getElementById("readability-content").appendChild(n),this._curPageNum>this._maxPages){var i="<div style='text-align: center'><a href='"+e+"'>View Next Page</a></div>";n.innerHTML=n.innerHTML+i}else(function(e,i){this._ajax(e,{success:function(r){var a=r.getResponseHeader("ETag");if(a){if(a in this._pageETags)return this.log("Exact duplicate page found via ETag. Aborting."),void(n.style.display="none");this._pageETags[a]=1}var o=t.createElement("DIV"),s=r.responseText.replace(/\n/g,"￿").replace(/<script.*?>.*?<\/script>/gi,"");s=(s=(s=s.replace(/\n/g,"￿").replace(/<script.*?>.*?<\/script>/gi,"")).replace(/\uffff/g,"\n").replace(/<(\/?)noscript/gi,"<$1div")).replace(this.REGEXPS.replaceFonts,"<$1span>"),o.innerHTML=s,this._replaceBrs(o),this._flags=7;var l=this._findNextPageLink(o),c=this._grabArticle(o);if(c){var d=c.getElementsByTagName("P").length?c.getElementsByTagName("P")[0]:null;if(d&&d.innerHTML.length>100)for(var h=1;h<=this._curPageNum;h+=1){var u=t.getElementById("readability-page-"+h);if(u&&-1!==u.innerHTML.indexOf(d.innerHTML))return this.log("Duplicate of page "+h+" - skipping."),n.style.display="none",void(this._parsedPages[e]=!0)}this._removeScripts(c),i.innerHTML=i.innerHTML+c.innerHTML,setTimeout(function(){this._postProcessContent(i)}.bind(this),500),l&&this._appendNextPage(l)}else this.log("No content found in page to append. Aborting.")}})}).bind(this)(e,n)},_getClassWeight:function(e){if(!this._flagIsActive(this.FLAG_WEIGHT_CLASSES))return 0;var t=0;return"string"==typeof e.className&&""!==e.className&&(this.REGEXPS.negative.test(e.className)&&(t-=25),this.REGEXPS.positive.test(e.className)&&(t+=25)),"string"==typeof e.id&&""!==e.id&&(this.REGEXPS.negative.test(e.id)&&(t-=25),this.REGEXPS.positive.test(e.id)&&(t+=25)),t},_clean:function(e,t){var n=-1!==["object","embed","iframe"].indexOf(t);this._removeNodes(e.getElementsByTagName(t),function(e){if(n){var t=[].map.call(e.attributes,function(e){return e.value}).join("|");if(this.REGEXPS.videos.test(t))return!1;if(this.REGEXPS.videos.test(e.innerHTML))return!1}return!0})},_hasAncestorTag:function(e,t,n,i){n=n||3,t=t.toUpperCase();for(var r=0;e.parentNode;){if(n>0&&r>n)return!1;if(e.parentNode.tagName===t&&(!i||i(e.parentNode)))return!0;e=e.parentNode,r++}return!1},_getRowAndColumnCount:function(e){for(var t=0,n=0,i=e.getElementsByTagName("tr"),r=0;r<i.length;r++){var a=i[r].getAttribute("rowspan")||0;a&&(a=parseInt(a,10)),t+=a||1;for(var o=0,s=i[r].getElementsByTagName("td"),l=0;l<s.length;l++){var c=s[l].getAttribute("colspan")||0;c&&(c=parseInt(c,10)),o+=c||1}n=Math.max(n,o)}return{rows:t,columns:n}},_markDataTables:function(e){for(var t=e.getElementsByTagName("table"),n=0;n<t.length;n++){var i=t[n];if("presentation"!=i.getAttribute("role"))if("0"!=i.getAttribute("datatable"))if(i.getAttribute("summary"))i._readabilityDataTable=!0;else{var r=i.getElementsByTagName("caption")[0];if(r&&r.childNodes.length>0)i._readabilityDataTable=!0;else{if(["col","colgroup","tfoot","thead","th"].some(function(e){return!!i.getElementsByTagName(e)[0]}))this.log("Data table because found data-y descendant"),i._readabilityDataTable=!0;else if(i.getElementsByTagName("table")[0])i._readabilityDataTable=!1;else{var a=this._getRowAndColumnCount(i);a.rows>=10||a.columns>4?i._readabilityDataTable=!0:i._readabilityDataTable=a.rows*a.columns>10}}}else i._readabilityDataTable=!1;else i._readabilityDataTable=!1}},_cleanConditionally:function(e,t){if(this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY)){var n="ul"===t||"ol"===t;this._removeNodes(e.getElementsByTagName(t),function(e){if(this._hasAncestorTag(e,"table",-1,function(e){return e._readabilityDataTable}))return!1;var t=this._getClassWeight(e);if(this.log("Cleaning Conditionally",e),t+0<0)return!0;if(this._getCharCount(e,",")<10){for(var i=e.getElementsByTagName("p").length,r=e.getElementsByTagName("img").length,a=e.getElementsByTagName("li").length-100,o=e.getElementsByTagName("input").length,s=0,l=e.getElementsByTagName("embed"),c=0,d=l.length;c<d;c+=1)this.REGEXPS.videos.test(l[c].src)||(s+=1);var h=this._getLinkDensity(e),u=this._getInnerText(e).length;return r>1&&i/r<.5&&!this._hasAncestorTag(e,"figure")||!n&&a>i||o>Math.floor(i/3)||!n&&u<25&&(0===r||r>2)&&!this._hasAncestorTag(e,"figure")||!n&&t<25&&h>.2||t>=25&&h>.5||1===s&&u<75||s>1}return!1})}},_cleanMatchedNodes:function(e,t){for(var n=this._getNextNode(e,!0),i=this._getNextNode(e);i&&i!=n;)i=t.test(i.className+" "+i.id)?this._removeAndGetNext(i):this._getNextNode(i)},_cleanHeaders:function(e){for(var t=1;t<3;t+=1)this._removeNodes(e.getElementsByTagName("h"+t),function(e){return this._getClassWeight(e)<0})},_flagIsActive:function(e){return(this._flags&e)>0},_addFlag:function(e){this._flags=this._flags|e},_removeFlag:function(e){this._flags=this._flags&~e},isProbablyReaderable:function(e){var t=this._getAllNodesWithTag(this._doc,["p","pre"]),n=this._getAllNodesWithTag(this._doc,["div > br"]);if(n.length){var i=new Set;[].forEach.call(n,function(e){i.add(e.parentNode)}),t=[].concat.apply(Array.from(i),t)}var r=0;return this._someNode(t,function(t){if(e&&!e(t))return!1;var n=t.className+" "+t.id;if(this.REGEXPS.unlikelyCandidates.test(n)&&!this.REGEXPS.okMaybeItsACandidate.test(n))return!1;if(t.matches&&t.matches("li p"))return!1;var i=t.textContent.trim().length;return!(i<140)&&(r+=Math.sqrt(i-140))>20})},parse:function(){if(this._maxElemsToParse>0){var e=this._doc.getElementsByTagName("*").length;if(e>this._maxElemsToParse)throw new Error("Aborting parsing document; "+e+" elements found")}void 0===this._doc.documentElement.firstElementChild&&(this._getNextNode=this._getNextNodeNoElementProperties),this._removeScripts(this._doc),this._prepDocument();var t=this._getArticleMetadata();this._articleTitle=t.title;var n=this._grabArticle();if(!n)return null;if(this.log("Grabbed: "+n.innerHTML),this._postProcessContent(n),!t.excerpt){var i=n.getElementsByTagName("p");i.length>0&&(t.excerpt=i[0].textContent.trim())}var r=n.textContent;return{uri:this._uri,title:this._articleTitle,byline:t.byline||this._articleByline,dir:this._articleDir,content:n.innerHTML,textContent:r,length:r.length,excerpt:t.excerpt,rootElements:n.children[0].children}}},"object"==typeof module&&(module.exports=Readability);